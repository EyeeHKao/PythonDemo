# python 正则模块

## 1.正则表达式

> 描述了一种字符串匹配模式，用于从字符串中搜索匹配或替换任意给定的子串.

## 2. 常用字符含义

普通字符和11个元字符

|   字符   |                             含义                             |            举例            |
| :------: | :----------------------------------------------------------: | :------------------------: |
| 普通字符 |                           匹配自身                           |         abc => abc         |
|    .     |                 匹配任意除换行符”\n"外的字符                 |    a.c => abc, adc, a0c    |
|    \     |                           转义字符                           | a\ .c => a.c; a\ \c => a\c |
|    *     |                    匹配前一个字符０或多次                    |   abc* => ab, abc, abccc   |
|    +     |                    匹配前一个字符０或多次                    |     abc+ => abc, abccc     |
|    ?     |                    匹配一个字符０次或１次                    |      abc? => ab, abc       |
|    ^     |          匹配字符串开头，在多行模式中匹配每一行开头          |        ^abc => abc         |
|    $     |          匹配字符串末尾，在多行模式中匹配每一行结尾          |        abc$ => abc         |
|    \|    | 或，匹配｜左右表达式的任意一个，从左到右，如果｜没有包含在括号中，则它的范围是整个表达式 |   abc \| def => abc ,def   |
|  ｛ ｝   | ｛m}匹配前一个字符ｍ次，{m,n}匹配前一个字符m至ｎ次，{m,}匹配ｍ至无限次 |   ab{1,2}c => abc, abbc    |
|   [ ]    | 字符集，对应位置是字符集中的任意字符，字符集中字符可以逐个列出，也可以给定范围[3-8]，或者取反[ ^ abc] |  a[bcd]e => abe, ace, ade  |
|   ( )    | 分组，被扩起来表达式将作为分组，从最左开始每遇到一个分组左括号"(",分组编号＋１ |  （a\|bc){2} => aa, bcbc   |

预定义字符集（可写在字符集[ ]中）和特殊分组用法

|    字符    |                             含义                             |                   举例                   |
| :--------: | :----------------------------------------------------------: | :--------------------------------------: |
|  \d 和\D   |               \d：数字[0-9]　\D：非数字[ ^\d]                | a\dc => a1c, a2c, a3c; a\Dc => abc, a_c; |
|   \s和\S   | \s:匹配任何空白字符[<空格>\t \r \n \f \v]　\S:匹配非空白字符[ ^ \s] |          a\sc => a c; a\Sc=>abc          |
|   \w和\W   | \w:匹配包括下划线在内的任何字符[A-Za-z0-9_]　\W匹配非字母字符（特殊字符） |         a\wc => a_c; a\Wc=> a c          |
|   \A和\Z   |                       同元字符号^ 和$                        |        \Aabc =>abc; \Zabc => abc         |
|  \b 和\B   |       \b匹配单词边界，即单词和空格间的位置　\Ｂ[ ^ \b]       |   \babc\b => 空格abc空格; a\Bbc => abc   |
| (?P<name>) |            分组，除了原有编号外再指定一个额外别名            |         (?P<id>abc){2} => abcabc         |
| (?P=name)  |              引用别名为<name>的分组匹配到字符串              |   (?P<id>\d)abc(?P=id) => 1abc1, 5abc5   |
| \ <number> |             引用编号为<number>的分组匹配到字符串             |        （\d)abc\1 => 1abc1, 5abc5        |

## ３．python正则模块re常用函数

## 3.1 compile( )

> 编译正则表达式模式。调用：re.compile(pattern, flags=0) =>pattern: 编译时用的表达式字符串	flags: 标志位
>
> | 标志             | 含义                                                  |
> | ---------------- | ----------------------------------------------------- |
> | re.S(DOTALL)     | 使.匹配包括换行在内的所有字符                         |
> | re.I(IGNORECASE) | 使匹配对大小写不敏感                                  |
> | re.L(LOCALE)     | 做本地化识别（locale-aware)匹配，法语等               |
> | re.M(MULTILINE)  | 多行匹配. 影响^ 和　$                                 |
> | re.U             | 根据Unicode字符集解析字符，这个标志影响\w, \W, \b, \B |
>
> 

## 3.2 match( )/search( )/findall( )

> 1. 功能：匹配字符串中符合的pattern
> 2. 用法：
>    * compile( )结合match( )/search( )/findall( ); e.g: p = re.compile(r'a') p.match('abc')
>    * 直接调用re.xxx(pattern, string, flags=0), xxx可以是match/search/findall; e.g: re.match(r'a', 'abc')
>
> 3. 区别：
>
> * match( ) 是从字符串第一个字符处开始搜索匹配，返回一个匹配对象，没有则返回None；search( ) 则是在字符串类查找模式匹配，返回第一个找到的串，没有则返回None；findall( ) 则是查找所有符合的模式匹配，返回一个包含所有匹配字符串的列表
>
> * match( )/search( )返回的匹配对象可用group( )/start( )/end( )/span( )等属性方法
>
> 

## 3.3 贪婪匹配和非贪婪匹配

> *? , +?, ??, {m,n}? 这些字符串前面的 *, +, ?等都是贪婪匹配，也就是尽可能去匹配，　后面加？是其变为惰性匹配







